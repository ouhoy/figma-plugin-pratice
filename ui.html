<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/thomas-lowry/figma-plugin-ds/dist/figma-plugin-ds.css">


<style>

    body {
        padding: 2em;
    }

    div {
        margin: 1em;
    }

    input, textarea {
        display: block;
    }
</style>
<h1>Petma Plugin</h1>
<div>
    <label for="username">Username</label>
    <input class="input__field" placeholder="Your Petma username" id="username" type="text">

    <label for="name">Name</label>
    <input class="input__field" placeholder="Your Petma display name" id="name" type="text">

    <label for="description">Description</label>
    <textarea class="textarea" placeholder="Your post goes here" id="description" rows=2></textarea>
</div>
<div class="switch">

    <input class="switch__toggle" type="checkbox" id="dark-mode-on">
    <label class="switch__label" for="dark-mode-on">Dark Mode</label>

</div>

<div class="radio">

    <input class="radio__button" type="radio" name="variantGroup" id="radioButtonOne" value="1">
    <label for="radioButtonOne" class="radio__label">No Image</label>

    <input class="radio__button" type="radio" name="variantGroup" id="radioButtonTwo" value="2">
    <label for="radioButtonTwo" class="radio__label">Single Image</label>

    <input class="radio__button" type="radio" name="variantGroup" id="radioButtonThree" value="3">
    <label for="radioButtonThree" class="radio__label">Carousel</label>

</div>

<div>
    <button class="button button--primary" id="submit-post">Submit</button>
</div>

<script>

    function $(id, selectAll = false) {
        return selectAll ? document.querySelectorAll(id) : document.querySelector(id);
    }

    const submitPost = $("#submit-post")

    submitPost.addEventListener("click", function () {

        const name = $("#name").value;
        const username = $("#username").value;
        const description = $("#description").value;
        const darkMode = $("#dark-mode-on").checked;
        const imageVariant = $("input[name='variantGroup']:checked").value

        parent.postMessage({pluginMessage: {name, username, description, darkMode, imageVariant}}, "*")
    })

</script>